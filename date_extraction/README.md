# Date Extraction

This folder contains all the code involved with extracating date from text.

### ML-based

To train and evaluate the ML-based approach, call the `run()` function in `Model.py`.
It requires a `synth_data_embs.jsonl` to be present. This file is generated by any of 
the synthesis scripts and contains the BERT-embeddings of the synthesized data.
This way they won't have to be generated every time when training, as this may take
a while.

##### Loss

The model uses a custom loss function called DateDifferenceLoss, defined in `DDLoss.py`.
The initial thought was to calculate the difference in days between two dates, as
we do when evaluating. This seems to be impossible without breaking the PyTorch
computation graph. Instead, the CrossEntropyLoss is calculated for the day and month
vector separately and weights are applied when adding them together.

### Weighted String Automaton

The code for the approach based on weighted string automaton can be found in
`StringAutomaton.py`. It is based on a weighted string automaton, but we use some
simplifications. The process of extracting dates from a text this way consists of
multiple steps. For an implementation please refer to `segment_labeling`.
